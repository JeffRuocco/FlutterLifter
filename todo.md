# TODO

## MVP

- [x] **Add logging service**
- [x] **Add exercise repository**
  - [x] Create ExerciseRepository with default and custom exercise support
  - [x] Add UserExercisePreferences model for customizing default exercises
  - [x] Add ExerciseSource enum for filtering queries
  - [x] Expand default exercises to 40+ covering all categories
  - [x] Deprecate exercise methods in ProgramRepository
- [x] **WorkoutService Implementation**
  - [x] Create WorkoutService class with auto-save functionality
  - [x] Add workout session methods to ProgramRepository
  - [x] Integrate WorkoutService with ServiceLocator
  - [x] Create usage examples and integration guide
- [x] **Integrate WorkoutService with UI**
  - [x] Update WorkoutScreen to use WorkoutService
  - [x] Add unfinished sets validation dialog
  - [x] Test auto-save functionality in UI
- [x] **Data persistance**
  - [x] Workout session persistance (✅ WorkoutService ready)
  - [x] Program cycle persistance
- [x] **Workout complete validation (warn about incomplete)**
  - [x] Warn about finishing workout before completing all sets (✅ WorkoutService ready)
  - [x] Warn about leaving workout page with sets recorded, but not marked complete (✅ WorkoutService ready)
- [x] **Add exercise library pages** (see `exercise-library-feature.md`)
  - [x] Normalize exercise name capitilization
- [x] **Remove sets from workout**
- [x] **Create program library page**
  - [x] Start new program from library
- [x] **Determine best option for location storage (Hive?)**
- [x] **Add Hive for local storage (all platforms)**
  - [x] Add hive dependencies to pubspec.yaml
  - [x] Implement HiveStorageService
  - [x] Test storage persistence in PWA
- [x] **Ensure usablity of quick workouts**
- [ ] **Implement user authentication**
  - [ ] Migrate custom exercise storage to per-user keys when auth is implemented
- [ ] **Implement cloud storage and syncing** (see `storage-implementation-plan.md`)

## Incremental updates

- [ ] QoL
  - [x] Delete session from history
  - [ ] Cancel session (delete without completing)
  - [x] Plan quick workout without "starting"
  - [x] Add/delete sets without starting session
  - [x] Plan quick workouts for future dates
  - [x] Reorder exercises within a session
  - [x] Automatically collapse completed exercises within a session
  - [x] Add create quick workout button to workout page
  - [ ] Update default exercises (remove old and add new)
- [ ] **Bugs**
  - [x] Planned quick workouts don't save unless they are started/completed
  - [x] Sets from quick workout sessions don't appear in exercise history/progress - was using workoutService instead of workoutNotifier
  - [x] Remove any unneccesary setstate({}) calls after switching to workoutNotifier pattern (workout_screen, etc.)
  - [x] Make sure other screens using workoutService are updated to use workoutNotifierProvider instead
  - [ ] Session exercise card does not stay collapsed after re-render (scroll off screen and back on, exercise expands) (fixed?)
  - [x] Can't expand/collapse completed exercises in session
  - [x] Duplicate notes fields when creating vs. using exercise (notes when creating are a different note field than when using)
  - [x] Exercise history updates not persisting
  - [ ] Delete exercise history if you delete session? (Not sure if this works or not, need to test)
- [ ] **In-app suggestion submission.** Can be used to log TODOs/ideas during usage.
- [ ] **Connect Firebase logging**
- [ ] **Add program creation pages**
  - [ ] Add program to local program library
  - [ ] Share program to public library (link/code, eventually a public program library)
- [ ] **UI overhaul**
  - [x] Migrate ServiceLocator to Riverpod state management
  - [x] Implement GoRouter for declarative navigation
  - [x] Add bottom navigation shell (Home, Progress, Programs)
  - [x] Add theme provider with light/dark mode persistence
  - [x] Standardize icons to HugeIcons (strokeRounded)
  - [x] Create widget gallery screen for component reference
  - [x] Create design-guidelines.md and widget-gallery.md docs
  - [ ] Add riverpod_generator + build_runner for type-safe providers
  - [ ] Add hero animations between screens for cards
  - [x] Better styling/theme
  - [x] Additional optional themes (blue and red, white and gold, etc.). Custom themes?
- [ ] **Rest timer**
- [ ] **Add progress page**
- [ ] **Workout summary**
- [ ] **Add unit tests for all pages**
  - [ ] Add WorkoutService unit tests
  - [x] Add ExerciseRepository unit tests
- [ ] **Add automated UI testing**
- [ ] **Public exercise library**
  - [ ] Allow users to publish custom exercises to public library
  - [ ] Allow users to import exercises from public library
  - [ ] Add exercise discovery/search in public library
- [ ] **Public program library**
